generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Account {
  id                Int     @id @default(autoincrement())
  userId            Int
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String? @db.Text
  session_state     String?
  User              User    @relation(fields: [userId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "Account_User_id_fk")

  @@unique([provider, providerAccountId])
  @@index([userId], map: "Account_userId_fkey")
}

model Discount {
  id                  BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  discountStatus      Int
  discountType        Int
  discountValue       Int
  discountLimit       Int?
  discountCode        String
  discountAmount      Int?
  discountCoverage    Int?     @default(0)
  discountCreated     DateTime @default(now())
  discountCreatedBy   BigInt   @db.UnsignedBigInt
  discountDeleted     DateTime
  discountDeletedBy   BigInt   @db.UnsignedBigInt
  discountDescription String
  discountEndDate     DateTime
  discountName        String
  discountStartDate   DateTime
  discountUpdated     DateTime
  discountUpdatedBy   BigInt   @db.UnsignedBigInt
}

model Example {
  id        String   @id @default(cuid())
  name      String   @default("example")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Product {
  id                  BigInt          @id @default(autoincrement()) @db.UnsignedBigInt
  productName         String
  productPrice        Int
  productImage        String
  productStatus       Int
  productCreated      DateTime        @default(now())
  productUpdated      DateTime
  productDeleted      DateTime
  productDeletedBy    Int
  productCreatedBy    Int
  productUpdatedBy    Int
  productCategory     Int
  productSuggestPrice Int?
  productCategorys    ProductCategory @relation(fields: [productCategory], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "Product_ProductCategory_id_fk")

  @@index([productCategory], map: "Product_ProductCategory_id_fk")
}

model ProductCategory {
  id                    Int       @id @default(autoincrement())
  productCategoryName   String
  productCategoryDesc   String
  productCategoryImg    String
  productCategoryStat   Int
  productCategoryCrtd   DateTime  @default(now())
  productCategoryUpdt   DateTime
  productCategoryDelt   DateTime
  productCategoryDeltBy Int
  productCategoryCrtdBy Int
  productCategoryUpdtBy Int
  Product               Product[]
}

model Role {
  id       Int    @id @default(autoincrement())
  roleName String
  User     User[]
}

model Session {
  id           BigInt   @id @default(autoincrement()) @db.UnsignedBigInt
  sessionToken String   @unique
  userId       Int
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId], map: "Session_userId_fkey")
}

model SiteSetting {
  id                Int      @id @default(autoincrement())
  siteSettingName   String
  siteSettingDesc   String
  siteSettingImg    String
  siteSettingStatus Int
  moneyAPIType      Int?
  siteSettingCrtd   DateTime @default(now())
  siteSettingUpdt   DateTime
  siteSettingDelt   DateTime
  siteSettingDeltBy BigInt   @db.UnsignedBigInt
  siteSettingCrtdBy BigInt   @db.UnsignedBigInt
  siteSettingUpdtBy BigInt   @db.UnsignedBigInt

  @@index([siteSettingCrtdBy], map: "SiteSetting_siteSettingCrtdBy_fkey")
}

model SiteStyle {
  id              Int      @id @default(autoincrement())
  siteStyleName   String
  siteStyleDesc   String
  siteStyleImg    String
  siteStyleStatus Int
  siteStyleCrtd   DateTime @default(now())
  siteStyleUpdt   DateTime
  siteStyleDelt   DateTime
  siteStyleDeltBy Int
  siteStyleCrtdBy Int
  siteStyleUpdtBy Int
}

model User {
  /// This comment will get attached to the `id` node in the AST
  id            Int    @id @default(autoincrement())
  name          String?
  email         String?   @unique
  emailVerified DateTime?
  image         String?
  userAddress   String?
  userCreated   DateTime  @default(now())
  userDeleted   DateTime?
  userFirstName String?
  userLastName  String?
  userPhone     String?
  userBirthday  DateTime? @db.Date
  userStatus    Int       @default(1)
  userUpdated   DateTime  @updatedAt
  userRole      Int       @default(1)
  businessId    BigInt?   @db.UnsignedBigInt
  Account       Account[]
  Business      Business? @relation(fields: [businessId], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "User_Business_id_fk")
  Role          Role      @relation(fields: [userRole], references: [id], onDelete: Cascade)
  Session       Session[]

  @@index([userRole], map: "User_userRole_fkey")
  @@index([businessId], map: "User_Business_id_fk")
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}

model Business {
  id   BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  name String?
  User User[]
}

model Order {
  id      BigInt    @id @default(autoincrement()) @db.UnsignedBigInt
  Detail  Json?
  time    DateTime? @db.Timestamp(0)
  total   Int?
  user_id Int?
  status  Int?
}

model ProductVariant {
  id          Int  @id @default(autoincrement())
  productId   Int?
  column_name Int?
}

model ProductColor {
  id        BigInt  @id @default(autoincrement()) @db.UnsignedBigInt
  name      String?
  colorCode Int?
  image     String?
}
